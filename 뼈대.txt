
1. 기사 본문 -> vector -> redis 에 축적

1. 뉴시스, 동아 등 구분해서 db화

2. 기사 db 실시간으로 가져와서 db화. 이름 수정하기

3. 없는건 모델에 넣서 벡터 만들기.


기사(48시간), 벡터  로 이뤄진 행렬은  memcached 에 보관. 10분마다 업데이트

기사(1달치), 벡터 로 이뤄진 db는 redis에 보관. 10분마다 업데이트 ?? 그럼 mysql과 중복되는데

사용자 db는 redis에 보관. 실시간 업데이트 *******. 



#호출이 오면


호출자가 호출한 기사 벡터를 redis 에서 가져옴
기사 db는 mysql에. 근데 {gid : vector} db는 redis 에.

호출자 id  redis에서 대조, 벡터 가져오기. 업데이트 (리턴 후 redis 저장. )
없으면 초기값 설정 및 redis에 저장.

memcached에 있던 벡터와  호출자 벡터  mat_mul.
top_10 가져옴.

return.

memcached 정리. db 업데이트.


3.파라미터 정하기



1. ga데이터
2. 호출한 기사 gid
3. 호출 도메인 (메인페이지인지, 기사페이지인지, 정치섹션인지 등 확인 위함)