import requests
import numpy as np
import timeit
import time
import json

test_ga = ['117995083', '117867403', '117996813', '117828556', '118058018', '117766432', '117845883', '117836563', '117776449', '117925227', '117846976', '118100453', '117848011', '117815088', '118100341', '117874258', '117853519', '118147936', '118081626', '117924726', '117779785', '118136183', '117897837', '117747817', '117752456', '117905513', '117851462', '117906542', '117871865', '117784810', '117982566', '117890586', '117845041', '117811088', '117829369', '118021422', '117821187', '117808078', '118024104', '117912900', '117930591', '117962224', '117819718', '117800029', '117815540', '118143903', '118138324', '117894057', '117939814', '117775665', '117764939', '118048995', '117852407', '117791161', '117808088', '118051427', '118000658', '118100501', '118111962', '118053485', '118138576', '117981492', '117986050', '117996057', '117999506', '117873114', '117818706', '118040009', '118021295', '117905543', '117798009', '117977012', '118084414', '118037504', '117819349', '118103786', '117993682', '118086577', '117799500', '117819353', '117962258', '118135957', '117891169', '117808228', '117989752', '117994192', '117854321', '117839518', '117808139', '117912390', '118030905', '117920947', '117774769', '117905690', '117985844', '118014919', '117887043', '118053338', '117867971', '117787409', '117979229', '118155301','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000','1181553000']
# requests.get('http://10.85.0.239:8000/1/1/')

time1 = []
for _ in range(1):
    # time.sleep(3)
    gid = test_ga[np.random.randint(0, len(test_ga))]
    ga=gid
    start = timeit.default_timer()
    # url =f'http://10.85.0.239:8000/{gid}/{gid}'
    # print(url)
    # gid="117787409"
    # ga = "1179"
    # temp = requests.get(f'http://10.85.0.239:8001/{ga}/_/')

    data = {"gid":"_", "ga":"1179"}
    # data = {'gid':gid,'ga':ga}
    print(json.dumps(data))
    temp = requests.post(f'http://10.85.0.239:8000/',data=json.dumps(data))
    print(temp.content.decode('utf-8'))
    end = timeit.default_timer()
    print(end-start)
    time1.append(end - start)
    # print(temp.content.decode('utf-8'))

print(max(time1))
print(min(time1))
print(np.mean(time1))
print(sum(time1))